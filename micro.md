# üåà –ú–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∞


## üì¶ –ú–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∞ –¥–ª—è google reviews

```js
<script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Somatica",
    "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": 4.7,
        "reviewCount": 75
    },
    "review": [
        {
            "@type": "Review",
            "author": {
                "@type": "Person",
                "name": "–û–ª–µ–≥ –ö—É—á–º–∞"
            },
            "reviewRating": {
                "@type": "Rating",
                "ratingValue": 5,
                "bestRating": 5,
                "worstRating": 1
            },
            "reviewBody": "–ü—Ä–æ—Ö–æ–¥–∏–ª —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏—é –ø–æ—Å–ª–µ —Å–µ—Ä—å–µ–∑–Ω–æ–π —Ç—Ä–∞–≤–º—ã –ø–æ–∑–≤–æ–Ω–æ—á–Ω–∏–∫–∞. –û—á–µ–Ω—å –¥–æ–≤–æ–ª–µ–Ω –ø–æ–¥—Ö–æ–¥–æ–º –∫–ª–∏–Ω–∏–∫–∏ Somatica. –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã –ø–æ–¥–æ–±—Ä–∞–ª–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É –∏ —É–∂–µ –ø–æ—Å–ª–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ–∞–Ω—Å–æ–≤ –ø–æ—è–≤–∏–ª—Å—è –ø—Ä–æ–≥—Ä–µ—Å—Å. –°–ø–∞—Å–∏–±–æ –∫–æ–º–∞–Ω–¥–µ –∑–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∏–∑–º –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É! –¢–µ–ø–µ—Ä—å —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è –≥–æ—Ä–∞–∑–¥–æ –ª—É—á—à–µ.",
            "datePublished": "28.10.24"
        },
        {
            "@type": "Review",
            "author": {
                "@type": "Person",
                "name": "ohrana.solsif"
            },
            "reviewRating": {
                "@type": "Rating",
                "ratingValue": 5,
                "bestRating": 5,
                "worstRating": 1
            },
            "reviewBody": "–û—á–µ–Ω—å –¥–æ–≤–æ–ª–µ–Ω –ª–µ—á–µ–Ω–∏–µ–º –≤ somatica.\n–ü–æ—Å–ª–µ –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –±–æ–ª–µ–π –≤ –∫–æ–ª–µ–Ω—è—Ö –æ–±—Ä–∞—Ç–∏–ª—Å—è –≤ —ç—Ç—É –∫–ª–∏–Ω–∏–∫—É, –∏ –≤—Ä–∞—á–∏ –ø–æ–º–æ–≥–ª–∏ –º–Ω–µ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∞–∫—Ç–∏–≤–Ω–æ–π –∂–∏–∑–Ω–∏.",
            "datePublished": "28.10.24"
        },
        {
            "@type": "Review",
            "author": {
                "@type": "Person",
                "name": "–õ–µ–æ–Ω–∏–¥"
            },
            "reviewRating": {
                "@type": "Rating",
                "ratingValue": 5,
                "bestRating": 5,
                "worstRating": 1
            },
            "reviewBody": "–ö–ª–∏–Ω–∏–∫–∞ SOMATICA –ø–æ–º–æ–≥–ª–∞ –º–Ω–µ —Ä–µ—à–∏—Ç—å —Ö—Ä–æ–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å —Å—É—Å—Ç–∞–≤–∞–º–∏\n–í—Ä–∞—á–∏ –æ—á–µ–Ω—å –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–µ –Ω–∞–∑–Ω–∞—á–∏–ª–∏ –∫—É—Ä—Å —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ —è –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ.\n–†–µ–∫–æ–º–µ–Ω–¥—É—é —ç—Ç—É –∫–ª–∏–Ω–∏–∫—É –≤—Å–µ–º, –∫—Ç–æ –∏—â–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –ø–æ–º–æ—â—å",
            "datePublished": "21.10.24"
        }
    ]
}</script>
```

---

## üì¶ –í—ã–≤–æ–¥ –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∏ google reviews (–≤–∏–¥–∂–µ—Ç —Å–µ—Ä–≤–∏—Å–∞ sociablekit.com )

### –í—ã–≤–æ–¥–∏–º —Å–∞–º–∏ –æ—Ç–∑—ã–≤—ã —Ç–∞–∫–∏–º –∫–æ–¥–æ–º:

```html
<div class="sk-ww-google-reviews" data-embed-id="25630118"></div><script src="https://widgets.sociablekit.com/google-reviews/widget.js" defer></script>
```

---

### –í—Å—Ç–∞–≤–ª—è–µ–º –≤ php (—á–∏—Å—Ç—ã–π php) —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ data-embed-id : 

```php
<?php

$json_url = 'https://data.accentapi.com/feed/25630118.json';

$json_data = file_get_contents($json_url);
if (!$json_data) exit;

$data = json_decode($json_data);
if (!$data) exit;

// –î–∞–Ω–Ω—ã–µ –¥–ª—è Organization
$org_name = $data->google_data_structure_json->itemReviewed->name ?? '';
$rating_value = $data->google_data_structure_json->ratingValue ?? '0';
$review_count = $data->google_data_structure_json->reviewCount ?? '0';

// –§–æ—Ä–º–∏—Ä—É–µ–º –º–∞—Å—Å–∏–≤ –æ—Ç–∑—ã–≤–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º rating >= 4 –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º 10
$reviews = [];
$max_reviews = 10;

if (!empty($data->reviews) && is_array($data->reviews)) {
    foreach ($data->reviews as $review) {
        $rating = $review->rating ?? '0';
        if ((float)$rating >= 4) {
            $reviews[] = [
                "@type" => "Review",
                "author" => [
                    "@type" => "Person",
                    "name" => $review->reviewer_name ?? ''
                ],
                "reviewRating" => [
                    "@type" => "Rating",
                    "ratingValue" => $rating, // –æ—Å—Ç–∞–≤–ª—è–µ–º –∫–∞–∫ —Ç–µ–∫—Å—Ç
                    "bestRating" => "5",
                    "worstRating" => "1"
                ],
                "reviewBody" => isset($review->review_text) ? strip_tags($review->review_text) : '',
                "datePublished" => isset($review->review_date_time) ? date('d.m.y', strtotime($review->review_date_time)) : ''
            ];

            if (count($reviews) >= $max_reviews) break; // –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–æ 10 –æ—Ç–∑—ã–≤–æ–≤
        }
    }
}

// –§–∏–Ω–∞–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤ LD+JSON
$ld_json = [
    "@context" => "https://schema.org",
    "@type" => "Organization",
    "name" => $org_name,
    "aggregateRating" => [
        "@type" => "AggregateRating",
        "ratingValue" => $rating_value, // –∫–∞–∫ —Ç–µ–∫—Å—Ç
        "reviewCount" => $review_count  // –∫–∞–∫ —Ç–µ–∫—Å—Ç
    ],
    "review" => $reviews
];

echo '<script type="application/ld+json">' . json_encode($ld_json, JSON_UNESCAPED_UNICODE | JSON_PRETTY_PRINT) . '</script>';
?>
```

---

### –í—Å—Ç–∞–≤–ª—è–µ–º –≤ php (–Ω–∞ Joomla API) —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ data-embed-id –∏ –≤—ã–≤–æ–¥–∏–º —Ç–æ–ª—å–∫–æ –Ω–∞ 2 —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö: 

```php
<?php
defined('_JEXEC') or die;

// –ü–æ–ª—É—á–∞–µ–º –ø—É—Ç—å —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–±–µ–∑ –¥–æ–º–µ–Ω–∞)
$current_path = JUri::getInstance()->getPath();

// –°–ø–∏—Å–æ–∫ –ø—É—Ç–µ–π, –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö –Ω—É–∂–Ω–æ –≤—ã–≤–æ–¥–∏—Ç—å –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫—É
$allowed_paths = [
    '/ua/',
    '/ua/vidhuky.html'
];

if (!in_array($current_path, $allowed_paths)) {
    return; // –Ω–µ –≤—ã–≤–æ–¥–∏–º –Ω–∞ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
}

// URL JSON
$json_url = 'https://data.accentapi.com/feed/25630118.json';

// –ü–æ–ª—É—á–∞–µ–º JSON —á–µ—Ä–µ–∑ Joomla API
$http = JHttpFactory::getHttp();
try {
    $response = $http->get($json_url);
    $json_data = $response->body;
} catch (Exception $e) {
    return; // –Ω–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
}

$data = json_decode($json_data);
if (!$data) return;

// –î–∞–Ω–Ω—ã–µ –¥–ª—è Organization
$org_name = $data->google_data_structure_json->itemReviewed->name ?? '';
$rating_value = $data->google_data_structure_json->ratingValue ?? '0';
$review_count = $data->google_data_structure_json->reviewCount ?? '0';

// –§–æ—Ä–º–∏—Ä—É–µ–º –º–∞—Å—Å–∏–≤ –æ—Ç–∑—ã–≤–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º rating >= 4 –∏ –ª–∏–º–∏—Ç–æ–º 10
$reviews = [];
$max_reviews = 10;

if (!empty($data->reviews) && is_array($data->reviews)) {
    foreach ($data->reviews as $review) {
        $rating = $review->rating ?? '0';
        if ((float)$rating >= 4) {
            $reviews[] = [
                "@type" => "Review",
                "author" => [
                    "@type" => "Person",
                    "name" => $review->reviewer_name ?? ''
                ],
                "reviewRating" => [
                    "@type" => "Rating",
                    "ratingValue" => $rating,
                    "bestRating" => "5",
                    "worstRating" => "1"
                ],
                "reviewBody" => isset($review->review_text) ? strip_tags($review->review_text) : '',
                "datePublished" => isset($review->review_date_time) ? date('d.m.y', strtotime($review->review_date_time)) : ''
            ];

            if (count($reviews) >= $max_reviews) break;
        }
    }
}

// –§–æ—Ä–º–∏—Ä—É–µ–º LD+JSON
$ld_json = [
    "@context" => "https://schema.org",
    "@type" => "Organization",
    "name" => $org_name,
    "aggregateRating" => [
        "@type" => "AggregateRating",
        "ratingValue" => $rating_value,
        "reviewCount" => $review_count
    ],
    "review" => $reviews
];

echo '<script type="application/ld+json">' . json_encode($ld_json, JSON_UNESCAPED_UNICODE | JSON_PRETTY_PRINT) . '</script>';
?>
```

---

